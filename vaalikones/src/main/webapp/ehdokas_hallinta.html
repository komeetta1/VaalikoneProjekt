<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
</head>
<body>

	<form id="ehdokas_lomake" onsubmit ="return false;">
		<input type="text" name="EHDOKAS_ID" value="">
		<input type="text" name="SUKUNIMI" value="">
		<input type="text" name="ETUNIMI" value="">
		<input type="text" name="PUOLUE" value="">
		<input type="text" name="KOTIPAIKKAKUNTA" value="">
		<input type="text" name=IKA value="">
		<input type="text" name="MIKSI_EDUSKUNTAAN" value="">
		<input type="text" name="MITA_ASIOITA_HALUAT_EDISTAA" value="">
		<input type="text" name="AMMATTI" value="">
	</form>
	<div id = 'asd'></div>
	
	<button onclick="laheta();">"Lähetä"</button>
	
	<script>
	function laheta(){
		var tiedot = document.getElementById("ehdokas_lomake");
		
		var ehdokas = new Object();
		ehdokas.EHDOKAS_ID = tiedot.EHDOKAS_ID.value;
		ehdokas.SUKUNIMI = tiedot.SUKUNIMI.value;
		ehdokas.ETUNIMI = tiedot.ETUNIMI.value;
		ehdokas.PUOLUE = tiedot.PUOLUE.value;
		ehdokas.KOTIPAIKKAKUNTA = tiedot.KOTIPAIKKAKUNTA.value;
		ehdokas.IKA = tiedot.IKA.value;
		ehdokas.MIKSI_EDUSKUNTAAN = tiedot.MIKSI_EDUSKUNTAAN.value;
		ehdokas.MITA_ASIOITA_HALUAT_EDISTAA = tiedot.MITA_ASIOITA_HALUAT_EDISTAA.value;
		ehdokas.AMMATTI = tiedot.AMMATTI.value;
		
		var jsonehdokas = JSON.stringify(ehdokas);
		document.getElementById("asd").innerHTML=jsonehdokas;
		
		var xhttp = new XMLHttpRequest();

		  xhttp.onreadystatechange = function() {
		    if (this.readyState == 4 && this.status == 200) {
		     document.getElementById("asd").innerHTML = this.responseText;
		     var palautettu=JSON.parse(this.responseText);
		     document.getElementById("osina").innerHTML="ID="+palautettu.id+" koko="+palautettu.paino+" Rotu="+palautettu.laji;
		    }
		    else{
		    }
		  };
		  
			xhttp.open("POST","./rest/vaalikone/tuo",true);
			xhttp.setRequestHeader("Content-type","application/json");
		  xhttp.send(jsonElain);
	}
	</script>
	

</body>
</html>